<!DOCTYPE html>
<html>
<head>

    <link rel="stylesheet" type="text/css" href="/css/styles.css">

    <<nav>
        <a href="/">Home</a> |
        <a href="/teacher.html">Teacher Dashboard</a> 
        <a href="/student.html">Student Dashboard</a>
        <a href="/auth/logout">Logout</a>
    </nav>
    
    <script>
        async function fetchSession() {
            const response = await fetch('/auth/session');
            if (response.ok) {
                const data = await response.json();
                document.getElementById('greeting').textContent = `Welcome, ${data.username} (${data.role})`;
            }
        }
        fetchSession();
    </script>

    <script>
    async function fetchCourses() {
        const response = await fetch('/student/viewCourses');
        if (response.ok) {
            const courses = await response.json();
            const container = document.getElementById('courses-container');
            container.innerHTML = '';
            courses.forEach(course => {
                const courseDiv = document.createElement('div');
                courseDiv.textContent = `Course: ${course.name}, Teacher: ${course.teacher_name}`;
                container.appendChild(courseDiv);
            });
        } else {
            alert('Error fetching courses.');
        }
    }
</script>

    <title>Student Dashboard</title>
    <h1>Student Dashboard</h1>
    <h1 id="greeting">Welcome</h1>
</head>
<body>
   
    <form action="/student/viewTimetable" method="get">
        <label for="student_id">Your Student ID:</label>
        <input type="number" id="student_id" name="student_id" required>
        <br>
        <button type="submit">View Timetable</button>
    </form>

    
    <form action="/student/viewAssignments" method="get">
        <h2>View Assignments</h2>
        <label for="student_id">Your Student ID:</label>
        <input type="number" id="student_id" name="student_id" required>
        <br>
        <button type="submit">View Assignments</button>
    </form>

</body>
</html>
